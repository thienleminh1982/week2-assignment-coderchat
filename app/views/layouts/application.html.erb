<!DOCTYPE html>
<html>
<head>
  <title>CoderChat</title>
  <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track' => true %>    
  <%= javascript_include_tag 'application' %>
  <%= csrf_meta_tag %>
</head>
<body class="<%= controller_name%> <%= action_name %>">
  <div class="nofif">
    <%= flash_messages %>
  </div>

  <nav class="navbar navbar-nav bg-faded">

    <!-- Toggle Button -->
    <button class="navbar-toggler hidden-sm-up" type="button" data-toggle="collapse" data-target="#nav-content">
      &#9776;
    </button>
    <!-- Nav Content -->
    <div class="collapse navbar-toggleable-xs" id="nav-content">
      <a class="navbar-brand" href="/"><%= image_tag 'chat'%></a>
      <ul class="nav navbar-nav">
        <li class="nav-item">
          <% if signed_in? %>
            <li class="nav-item">
              Logged in as: [<%= @current_user.name %>]
            </li>
            <li class="nav-item">
              <%= link_to 'Incoming messages', messages_path, {:class => 'nav-link'} %>
            </li>
            <li class="nav-item">
              <%= link_to 'New message', new_message_path, {:class => 'nav-link'} %>
            </li>
            <li class="nav-item">
              <%= link_to 'Sent messages', sent_messages_path, {:class => 'nav-link'} %>
            </li>
            <li class="nav-item">
              <%= link_to 'Manage friends', manage_friends_path, {:class => 'nav-link'} %>
            </li>
            <li class="nav-item">
              <%= link_to 'Sign Out', logout_path, {:class => 'nav-link'} %>
            </li>
        <% else %>
            <li class="nav-item">
              <%= link_to 'Sign Up', new_user_path, {:class => 'nav-link'} %>
            </li>
            <li class="nav-item">
              <%= link_to 'Sign In', sessions_new_path, {:class => 'nav-link'} %>
            </li>
        <% end %>
        </li>
      </ul>
    </div>
  </nav>

  <div class="container-fluid">
  <%= yield %>
  </div>

  <footer class="navbar navbar-light bg-faded">
    <div class="container" align="middle">
      <p class="text-muted">Designed and built with all the love in the world by @thienleminh1982 :-)
        <br/>
        <a class="nav-link" href="https://github.com/thienleminh1982">thienleminh1982 on GitHub</a>
      </p>
    </div>
  </footer>

</body>
</html>
